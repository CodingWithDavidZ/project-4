(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{17:function(e,s,t){},18:function(e,s,t){},21:function(e,s,t){"use strict";t.r(s);var i=t(1),c=t.n(i),n=t(12),r=t.n(n),a=(t(17),t(3)),l=(t(18),t(6)),o=t(2),h=t(7),d=t(5),u=t(0);var j=function(e){var s=e.loginUrl,t=e.setUser,c=e.user,n=Object(o.f)(),r=Object(i.useState)({username:"",password:""}),j=Object(a.a)(r,2),m=j[0],b=j[1],p=function(e){var s=e.target.name;b(Object(d.a)(Object(d.a)({},m),{},Object(h.a)({},s,e.target.value)))};function _(e){e.preventDefault(),fetch("".concat(s),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:m.username,password:m.password})}).then((function(e){e.ok?(e.json().then((function(e){return t(e)})),n("/measurements")):b({username:"",password:""})})),console.log("Login.js user",c)}return Object(u.jsxs)("div",{id:"login_box",children:[Object(u.jsx)("h1",{children:"Login"}),Object(u.jsxs)("form",{id:"user_login",autocomplete:"off",onSubmit:_,children:[Object(u.jsx)("h4",{className:"login_descriptor",children:"Username"}),Object(u.jsx)("input",{required:!0,value:m.username,type:"text",className:"login_input_fields",id:"username_field",name:"username",placeholder:"Username",onChange:p}),Object(u.jsx)("br",{}),Object(u.jsx)("h4",{className:"login_descriptor",children:"Password"}),Object(u.jsx)("input",{required:!0,value:m.password,type:"password",className:"login_input_fields",id:"password_field",name:"password",placeholder:"Password",onChange:p}),Object(u.jsx)("br",{}),Object(u.jsxs)("span",{children:[Object(u.jsx)("button",{id:"sign_in_button",onclick:_,children:"Sign In"}),Object(u.jsx)(l.b,{id:"sign_up",to:"/signup",children:"Sign Up"})]})]})]})},m=t(8),b=t.n(m),p=t(9);var _=function(e){var s=e.metricsUrl,t=e.user,c=Object(i.useState)({neck_size:"",chest_size:"",waist_size:"",hip_size:"",thigh_size:"",calf_size:"",bicep_size:"",forearm_size:"",height_feet:"",height_inches:"",weight_lbs:"",user_id:t.id}),n=Object(a.a)(c,2),r=n[0],o=n[1],j=Object(i.useState)(!1),m=Object(a.a)(j,2),_=(m[0],m[1]),f=Object(i.useState)([]),O=Object(a.a)(f,2),g=O[0],x=O[1];console.log("Measurements.js user",t),console.log("Measurements.js input",r);var z=function(e){var s=e.target.name;o(Object(d.a)(Object(d.a)({},r),{},Object(h.a)({},s,e.target.value)))};function v(){return(v=Object(p.a)(b.a.mark((function e(i){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.preventDefault(),e.next=3,fetch("".concat(s),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({neck_size:r.neck_size,chest_size:r.chest_size,waist_size:r.waist_size,hip_size:r.hip_size,thigh_size:r.thigh_size,calf_size:r.calf_size,bicep_size:r.bicep_size,forearm_size:r.forearm_size,height_feet:r.height_feet,height_inches:r.height_inches,weight_lbs:r.weight_lbs,user_id:t.id})}).then((function(e){e.ok?(o({neck_size:"",chest_size:"",waist_size:"",hip_size:"",thigh_size:"",calf_size:"",bicep_size:"",forearm_size:"",height_feet:"",height_inches:"",weight_lbs:"",user_id:t.id}),_(!0)):e.json().then((function(e){return x(e.errors)}))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l.b,{id:"skip",to:"/memberspage",children:"Skip"}),Object(u.jsxs)("div",{id:"measurements_box",children:[Object(u.jsx)("h1",{id:"measurements_text",children:"Measurements"}),Object(u.jsxs)("form",{id:"measurement_form",autoComplete:"off",onSubmit:function(e){return v.apply(this,arguments)},children:[Object(u.jsx)("h4",{className:"measurements_descriptor",children:"Circumference of neck in inches?"}),Object(u.jsx)("input",{value:r.neck_size,type:"number",step:"0.25",className:"measurement_fields",id:"neck_size_field",name:"neck_size",placeholder:"Neck size",onChange:z}),Object(u.jsx)("br",{}),Object(u.jsx)("h4",{className:"measurements_descriptor",children:"Circumference of chest in inches?"}),Object(u.jsx)("input",{value:r.chest_size,type:"number",step:"0.25",className:"measurement_fields",id:"chest_size_field",name:"chest_size",placeholder:"Chest size",onChange:z}),Object(u.jsx)("br",{}),Object(u.jsx)("h4",{className:"measurements_descriptor",children:"Circumference of waist in inches?"}),Object(u.jsx)("input",{value:r.waist_size,type:"number",step:"0.25",className:"measurement_fields",id:"waist_size",name:"waist_size",placeholder:"Waist",onChange:z}),Object(u.jsx)("br",{}),Object(u.jsx)("h4",{className:"measurements_descriptor",children:"Circumference of hips in inches?"}),Object(u.jsx)("input",{value:r.hips_size,type:"number",step:"0.25",className:"measurement_fields",id:"hips_size_field",name:"hips_size",placeholder:"Hips",onChange:z}),Object(u.jsx)("br",{}),Object(u.jsx)("h4",{className:"measurements_descriptor",children:"Circumference of thighs in inches?"}),Object(u.jsx)("input",{value:r.thigh_size,type:"number",step:"0.25",className:"measurement_fields",id:"thigh_size_field",name:"thigh_size",placeholder:"Thighs",onChange:z}),Object(u.jsx)("br",{}),Object(u.jsx)("h4",{className:"measurements_descriptor",children:"Circumference of calf in inches?"}),Object(u.jsx)("input",{value:r.calf_size,type:"number",step:"0.25",className:"measurement_fields",id:"calf_size_field",name:"calf_size",placeholder:"Calf",onChange:z}),Object(u.jsx)("br",{}),Object(u.jsx)("h4",{className:"measurements_descriptor",children:"Circumference of bicep in inches?"}),Object(u.jsx)("input",{value:r.bicep_size,type:"number",step:"0.25",className:"measurement_fields",id:"bicep_size_field",name:"bicep_size",placeholder:"Bicep",onChange:z}),Object(u.jsx)("br",{}),Object(u.jsx)("h4",{className:"measurements_descriptor",children:"Circumference of forearm in inches?"}),Object(u.jsx)("input",{value:r.forearm_size,type:"number",step:"0.25",className:"measurement_fields",id:"forearm_size_field",name:"forearm_size",placeholder:"Forearm",onChange:z}),Object(u.jsx)("br",{}),Object(u.jsx)("h4",{className:"measurements_descriptor",children:"What's your height?"}),Object(u.jsx)("input",{value:r.height_feet,type:"number",step:"1",pattern:"\\d+",className:"measurement_fields",id:"height_feet_field",name:"height_feet",placeholder:"Feet",onChange:z}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:r.height_inches,type:"number",step:"1",pattern:"\\d+",className:"measurement_fields",id:"height_inches_field",name:"height_inches",placeholder:"Inches",onChange:z}),Object(u.jsx)("br",{}),Object(u.jsx)("h4",{className:"measurements_descriptor",children:"What's your weight in Lbs?"}),Object(u.jsx)("input",{value:r.weight_lbs,type:"number",ste:"0.01",className:"measurement_fields",id:"weight_lbs_field",name:"weight_lbs",placeholder:"Weight",onChange:z}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"submit",value:"Submit",id:"submit_measurement_button"})]}),Object(u.jsx)("div",{id:"measurement_error_box",children:g.map((function(e){return Object(u.jsx)("p",{children:e},e)}))})]})]})};var f=function(e){var s=e.signUpUrl,t=e.user,c=e.onLogin,n=(e.metricsUrl,Object(o.f)()),r=Object(i.useState)({first_name:"",last_name:"",birthdate:"",username:"",password:""}),l=Object(a.a)(r,2),j=l[0],m=l[1],b=function(e){var s=e.target.name;m(Object(d.a)(Object(d.a)({},j),{},Object(h.a)({},s,e.target.value)))};return Object(u.jsxs)("div",{id:"sign_up_box",children:[Object(u.jsx)("h1",{id:"join_text",children:"Join"}),Object(u.jsxs)("form",{id:"sign_up_form",autocomplete:"off",onSubmit:function(e){e.preventDefault(),fetch("".concat(s),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{first_name:j.first_name,last_name:j.last_name,birthdate:j.birthdate,username:j.username,password:j.password}})}).then((function(e){e.ok&&e.json().then((function(e){return c(e)}))})).then((function(){m({first_name:"",last_name:"",birthdate:"",username:"",password:""}),n("/measurements")})),console.log("SignUp.js user",t)},children:[Object(u.jsx)("h4",{className:"sign_up_descriptor",children:"First name"}),Object(u.jsx)("input",{required:!0,value:j.first_name,type:"text",className:"sign_up_input_fields",id:"first_name_field",name:"first_name",placeholder:"First Name",onChange:b}),Object(u.jsx)("br",{}),Object(u.jsx)("h4",{className:"sign_up_descriptor",children:"Last name"}),Object(u.jsx)("input",{required:!0,value:j.last_name,type:"text",className:"sign_up_input_fields",id:"last_name_field",name:"last_name",placeholder:"Last Name",onChange:b}),Object(u.jsx)("br",{}),Object(u.jsx)("h4",{className:"sign_up_descriptor",children:"Date of birth"}),Object(u.jsx)("input",{required:!0,value:j.birthdate,type:"date",className:"sign_up_input_fields",id:"birthdate_field",name:"birthdate",placeholder:"Date of Birth",onChange:b}),Object(u.jsx)("br",{}),Object(u.jsx)("h4",{className:"sign_up_descriptor",children:"Username"}),Object(u.jsx)("input",{required:!0,value:j.username,type:"text",className:"sign_up_input_fields",id:"username_field",name:"username",placeholder:"Username",onChange:b}),Object(u.jsx)("br",{}),Object(u.jsx)("h4",{className:"sign_up_descriptor",children:"Password"}),Object(u.jsx)("input",{required:!0,value:j.password,type:"password",className:"sign_up_input_fields",id:"password_field",name:"password",placeholder:"Password",onChange:b}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{id:"submit_button",type:"submit",value:"Submit"})]})]})};var O=function(e){var s=e.setUser,t=e.logOutUrl,i=e.user,c=Object(o.f)();function n(){return(n=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t),{method:"DELETE"}).then((function(e){e.ok&&(s(null),c("/"))}));case 2:console.log("Empty user check",i);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)(l.b,{className:"header_link",to:"/accountmanagement",children:"Manage Account"}),Object(u.jsx)("button",{className:"header_link",id:"log_out_button",onClick:function(){return n.apply(this,arguments)},children:"Sign Out"})]})};var g=function(e){var s=e.memberUrl,t=e.metricsUrl,c=Object(i.useState)({metrics:[]}),n=Object(a.a)(c,2),r=n[0],l=n[1],o=Object(i.useState)(!1),h=Object(a.a)(o,2),d=h[0],j=h[1];function m(e){fetch("".concat(t).concat(e.target.value),{method:"DELETE"}),l({metrics:r.metrics.filter((function(s){return s.id!==e.target.value}))}),j(!0)}Object(i.useEffect)((function(){fetch("".concat(s)).then((function(e){return e.json()})).then((function(e){l(e)}))}),[d]);var b=r.metrics.map((function(e){var s=e.created_at.split("T")[0];return e.neck_size||e.hips_size||e.bicep_size||e.chest_size||e.calf_size||e.thigh_size||e.waist_size||e.weight_lbs||e.forearm_size||e.height_feet?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"user_metric_box",id:r.metrics.id,children:[Object(u.jsxs)("ul",{className:"metric_ul",children:[e.neck_size?Object(u.jsxs)("li",{className:"neck",id:"neck".concat(e.id),children:[Object(u.jsx)("strong",{children:"Neck circumference:"})," ",e.neck_size,"in"]},"neck ".concat(r.metrics.id)):null,e.chest_size?Object(u.jsxs)("li",{className:"chest",id:"chest".concat(e.id),children:[Object(u.jsx)("strong",{children:"Chest circumference:"})," ",e.chest_size,"in"]},"chest ".concat(r.metrics.id)):null,e.waist_size?Object(u.jsxs)("li",{className:"waist",id:e.id,children:[Object(u.jsx)("strong",{children:"Waist circumference:"})," ",e.waist_size,"in"]},"waist".concat(r.metrics.id)):null,e.hip_size?Object(u.jsxs)("li",{className:"hip",id:e.id,children:[Object(u.jsx)("strong",{children:"Hip circumference:"})," ",e.hip_size,"in"]},"hip".concat(r.metrics.id)):null,e.thigh_size?Object(u.jsxs)("li",{className:"thigh",id:e.id,children:[Object(u.jsx)("strong",{children:"Thigh circumference:"})," ",e.thigh_size,"in"]},"thigh".concat(r.metrics.id)):null,e.calf_size?Object(u.jsxs)("li",{className:"calf",id:e.id,children:[Object(u.jsx)("strong",{children:"Calf circumference:"})," ",e.calf_size,"in"]},"calf".concat(r.metrics.id)):null,e.bicep_size?Object(u.jsxs)("li",{className:"bicep",id:e.id,children:[Object(u.jsx)("strong",{children:"Bicep circumference:"})," ",e.bicep_size,"in"]},"bicep".concat(r.metrics.id)):null,e.forearm_size?Object(u.jsxs)("li",{className:"forearm",id:e.id,children:[Object(u.jsx)("strong",{children:"Forearm circumference:"})," ",e.forearm_size,"in"]},"forearm".concat(r.metrics.id)):null,e.height_feet?Object(u.jsxs)("li",{className:"height",id:e.id,children:[Object(u.jsx)("strong",{children:"Height:"})," ",e.height_feet,"'"," ",e.height_inches,'"']},"height".concat(r.metrics.id)):null,e.weight_lbs?Object(u.jsxs)("li",{className:"weight",id:e.id,children:[Object(u.jsx)("strong",{children:"Weight:"})," ",e.weight_lbs,"lbs"]},"weight".concat(r.metrics.id)):null,Object(u.jsxs)("li",{className:"created",id:e.id,children:[Object(u.jsx)("strong",{children:"Created:"}),s]},"created".concat(r.metrics.id))]},r.metrics.id),Object(u.jsx)("button",{className:"remove_metric",id:e.id,value:e.id,onClick:m,children:"\u274c"})]})}):null}));return Object(u.jsxs)("div",{className:"user_metrics",children:[Object(u.jsxs)("div",{id:"member_name",children:["Member:",r.first_name," ",r.last_name]}),d?Object(u.jsxs)("div",{className:"removed_metric_box",children:["Metric Removed! \xa0",Object(u.jsxs)("button",{className:"remove_metric",onClick:function(){return j(!1)},children:["OK"," "]})]}):b]})};var x=function(e){var s=e.user,t=e.userUrl,c=Object(i.useState)(!1),n=Object(a.a)(c,2),r=n[0],l=n[1],j=Object(o.f)(),m=Object(i.useState)({user:s.id,password:""}),b=Object(a.a)(m,2),p=b[0],_=b[1];function f(e){e.preventDefault(),fetch("".concat(t).concat(s.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:s.id,password:p.password})}).then((function(e){e.ok?j("/memberspage"):_({password:""})}))}return Object(u.jsxs)("div",{id:"manage_account_box",children:[Object(u.jsxs)("div",{children:["Welcome:"," ",Object(u.jsxs)("strong",{children:[s.first_name," ",s.last_name]})]}),r?Object(u.jsxs)("form",{autocomplete:"off",onSubmit:f,children:[Object(u.jsx)("input",{required:!0,value:p.password,type:"password",className:"login_input_fields",id:"password_field",name:"password",placeholder:"New Password",onChange:function(e){var s=e.target.name;_(Object(d.a)(Object(d.a)({},p),{},Object(h.a)({},s,e.target.value)))}}),Object(u.jsx)("button",{id:"change_password_button",onclick:f,children:"Change"})]}):Object(u.jsxs)("span",{children:[Object(u.jsx)("h3",{children:"Change password?"}),Object(u.jsx)("button",{id:"change_password_button",onClick:function(){l(!0)},children:"Yes!"})]})]})},z="/api/login",v="/api/metrics",N="/api/me";var w=function(){var e=Object(i.useState)({}),s=Object(a.a)(e,2),t=s[0],c=s[1];return Object(i.useEffect)((function(){fetch("".concat(N)).then((function(e){e.ok&&e.json().then((function(e){return c(e)}))}))}),[]),console.log("app.js user",t),Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(l.a,{children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/",element:t&&t.id?Object(u.jsx)(_,{user:t,metricsUrl:v}):Object(u.jsx)(j,{loginUrl:z,setUser:c,user:t})}),Object(u.jsx)(o.a,{exact:!0,path:"/signup",element:Object(u.jsx)(f,{signUpUrl:"/api/signup",user:t,onLogin:c,metricsUrl:v})}),Object(u.jsx)(o.a,{exact:!0,path:"/measurements",element:t&&t.id?Object(u.jsx)(_,{metricsUrl:v,user:t}):Object(u.jsx)(j,{loginUrl:z,setUser:c,user:t})}),Object(u.jsx)(o.a,{exact:!0,path:"/memberspage",element:t&&t.id?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(O,{setUser:c,user:t,logOutUrl:"/api/logout"}),Object(u.jsx)(g,{memberUrl:N,metricsUrl:v})]}):Object(u.jsx)(j,{loginUrl:z,setUser:c,user:t})}),Object(u.jsx)(o.a,{exact:!0,path:"/accountmanagement",element:t&&t.id?Object(u.jsx)(x,{memberUrl:N,userUrl:"/api/users/",user:t,setUser:c}):Object(u.jsx)(j,{loginUrl:z,setUser:c,user:t})})]})})})};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.52813583.chunk.js.map