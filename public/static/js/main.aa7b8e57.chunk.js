(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{17:function(e,s,t){},18:function(e,s,t){},21:function(e,s,t){"use strict";t.r(s);var i=t(1),c=t.n(i),n=t(11),r=t.n(n),a=(t(17),t(3)),l=(t(18),t(6)),h=t(2),o=t(7),d=t(5),m=t(0);var j=function(e){var s=e.loginUrl,t=e.setUser,c=e.user,n=Object(h.g)(),r=Object(i.useState)({username:"",password:""}),j=Object(a.a)(r,2),u=j[0],b=j[1],_=function(e){var s=e.target.name;b(Object(d.a)(Object(d.a)({},u),{},Object(o.a)({},s,e.target.value)))};function p(e){e.preventDefault(),fetch("".concat(s),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:u.username,password:u.password})}).then((function(e){e.ok?(e.json().then((function(e){return t(e)})),n("/measurements")):b({username:"",password:""})})),console.log("Login.js user",c)}return Object(m.jsxs)("div",{id:"login_box",children:[Object(m.jsx)("h1",{children:"Login"}),Object(m.jsxs)("form",{id:"user_login",autocomplete:"off",onSubmit:p,children:[Object(m.jsx)("h4",{className:"login_descriptor",children:"Username"}),Object(m.jsx)("input",{required:!0,value:u.username,type:"text",className:"login_input_fields",id:"username_field",name:"username",placeholder:"Username",onChange:_}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{className:"login_descriptor",children:"Password"}),Object(m.jsx)("input",{required:!0,value:u.password,type:"password",className:"login_input_fields",id:"password_field",name:"password",placeholder:"Password",onChange:_}),Object(m.jsx)("br",{}),Object(m.jsxs)("span",{children:[Object(m.jsx)("button",{id:"sign_in_button",onclick:p,children:"Sign In"}),Object(m.jsx)(l.b,{id:"sign_up",to:"/signup",children:"Sign Up"})]})]})]})};var u=function(e){var s=e.metricsUrl,t=e.user,c=Object(i.useState)({neck_size:"",chest_size:"",waist_size:"",hip_size:"",thigh_size:"",calf_size:"",bicep_size:"",forearm_size:"",height_feet:"",height_inches:"",weight_lbs:"",user_id:t.id}),n=Object(a.a)(c,2),r=n[0],j=n[1],u=Object(i.useState)(!1),b=Object(a.a)(u,2),_=b[0],p=b[1];console.log("Measurements.js user",t),console.log("Measurements.js input",r);var f=function(e){var s=e.target.name;j(Object(d.a)(Object(d.a)({},r),{},Object(o.a)({},s,e.target.value)))};return _?Object(m.jsx)(h.a,{to:"/memberspage"}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(l.b,{id:"skip",to:"/memberspage",children:"Skip"}),Object(m.jsxs)("div",{id:"measurements_box",children:[Object(m.jsx)("h1",{id:"measurements_text",children:"Measurements"}),Object(m.jsxs)("form",{id:"measurement_form",autoComplete:"off",onSubmit:function(e){e.preventDefault(),r.neck_size||r.chest_size||r.waist_size||r.hip_size||r.thigh_size||r.calf_size||r.bicep_size||r.forearm_size||r.height_feet||r.height_inches||r.weight_lbs?(fetch("".concat(s),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({neck_size:r.neck_size,chest_size:r.chest_size,waist_size:r.waist_size,hip_size:r.hip_size,thigh_size:r.thigh_size,calf_size:r.calf_size,bicep_size:r.bicep_size,forearm_size:r.forearm_size,height_feet:r.height_feet,height_inches:r.height_inches,weight_lbs:r.weight_lbs,user_id:t.id})}).then((function(){j({neck_size:"",chest_size:"",waist_size:"",hip_size:"",thigh_size:"",calf_size:"",bicep_size:"",forearm_size:"",height_feet:"",height_inches:"",weight_lbs:"",user_id:t.id})})),p(!0)):alert("Please fill out at least one field")},children:[Object(m.jsx)("h4",{className:"measurements_descriptor",children:"Circumference of neck in inches?"}),Object(m.jsx)("input",{value:r.neck_size,type:"number",step:"0.25",className:"measurement_fields",id:"neck_size_field",name:"neck_size",placeholder:"Neck size",onChange:f}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{className:"measurements_descriptor",children:"Circumference of chest in inches?"}),Object(m.jsx)("input",{value:r.chest_size,type:"number",step:"0.25",className:"measurement_fields",id:"chest_size_field",name:"chest_size",placeholder:"Chest size",onChange:f}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{className:"measurements_descriptor",children:"Circumference of waist in inches?"}),Object(m.jsx)("input",{value:r.waist_size,type:"number",step:"0.25",className:"measurement_fields",id:"waist_size",name:"waist_size",placeholder:"Waist",onChange:f}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{className:"measurements_descriptor",children:"Circumference of hips in inches?"}),Object(m.jsx)("input",{value:r.hips_size,type:"number",step:"0.25",className:"measurement_fields",id:"hips_size_field",name:"hips_size",placeholder:"Hips",onChange:f}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{className:"measurements_descriptor",children:"Circumference of thighs in inches?"}),Object(m.jsx)("input",{value:r.thigh_size,type:"number",step:"0.25",className:"measurement_fields",id:"thigh_size_field",name:"thigh_size",placeholder:"Thighs",onChange:f}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{className:"measurements_descriptor",children:"Circumference of calf in inches?"}),Object(m.jsx)("input",{value:r.calf_size,type:"number",step:"0.25",className:"measurement_fields",id:"calf_size_field",name:"calf_size",placeholder:"Calf",onChange:f}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{className:"measurements_descriptor",children:"Circumference of bicep in inches?"}),Object(m.jsx)("input",{value:r.bicep_size,type:"number",step:"0.25",className:"measurement_fields",id:"bicep_size_field",name:"bicep_size",placeholder:"Bicep",onChange:f}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{className:"measurements_descriptor",children:"Circumference of forearm in inches?"}),Object(m.jsx)("input",{value:r.forearm_size,type:"number",step:"0.25",className:"measurement_fields",id:"forearm_size_field",name:"forearm_size",placeholder:"Forearm",onChange:f}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{className:"measurements_descriptor",children:"What's your height?"}),Object(m.jsx)("input",{value:r.height_feet,type:"number",step:"1",pattern:"\\d+",className:"measurement_fields",id:"height_feet_field",name:"height_feet",placeholder:"Feet",onChange:f}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{value:r.height_inches,type:"number",step:"1",pattern:"\\d+",className:"measurement_fields",id:"height_inches_field",name:"height_inches",placeholder:"Inches",onChange:f}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{className:"measurements_descriptor",children:"What's your weight in Lbs?"}),Object(m.jsx)("input",{value:r.weight_lbs,type:"number",ste:"0.01",className:"measurement_fields",id:"weight_lbs_field",name:"weight_lbs",placeholder:"Weight",onChange:f}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"submit",value:"Submit",id:"submit_measurement_button"})]})]})]})};var b=function(e){var s=e.signUpUrl,t=e.user,c=e.onLogin,n=(e.metricsUrl,Object(h.g)()),r=Object(i.useState)({first_name:"",last_name:"",birthdate:"",username:"",password:""}),l=Object(a.a)(r,2),j=l[0],u=l[1],b=function(e){var s=e.target.name;u(Object(d.a)(Object(d.a)({},j),{},Object(o.a)({},s,e.target.value)))};return Object(m.jsxs)("div",{id:"sign_up_box",children:[Object(m.jsx)("h1",{id:"join_text",children:"Join"}),Object(m.jsxs)("form",{id:"sign_up_form",autocomplete:"off",onSubmit:function(e){e.preventDefault(),fetch("".concat(s),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{first_name:j.first_name,last_name:j.last_name,birthdate:j.birthdate,username:j.username,password:j.password}})}).then((function(e){e.ok&&e.json().then((function(e){return c(e)}))})).then((function(){u({first_name:"",last_name:"",birthdate:"",username:"",password:""}),n("/measurements")})),console.log("SignUp.js user",t)},children:[Object(m.jsx)("h4",{className:"sign_up_descriptor",children:"First name"}),Object(m.jsx)("input",{required:!0,value:j.first_name,type:"text",className:"sign_up_input_fields",id:"first_name_field",name:"first_name",placeholder:"First Name",onChange:b}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{className:"sign_up_descriptor",children:"Last name"}),Object(m.jsx)("input",{required:!0,value:j.last_name,type:"text",className:"sign_up_input_fields",id:"last_name_field",name:"last_name",placeholder:"Last Name",onChange:b}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{className:"sign_up_descriptor",children:"Date of birth"}),Object(m.jsx)("input",{required:!0,value:j.birthdate,type:"date",className:"sign_up_input_fields",id:"birthdate_field",name:"birthdate",placeholder:"Date of Birth",onChange:b}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{className:"sign_up_descriptor",children:"Username"}),Object(m.jsx)("input",{required:!0,value:j.username,type:"text",className:"sign_up_input_fields",id:"username_field",name:"username",placeholder:"Username",onChange:b}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{className:"sign_up_descriptor",children:"Password"}),Object(m.jsx)("input",{required:!0,value:j.password,type:"password",className:"sign_up_input_fields",id:"password_field",name:"password",placeholder:"Password",onChange:b}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{id:"submit_button",type:"submit",value:"Submit"})]})]})},_=t(10),p=t.n(_),f=t(12);var O=function(e){var s=e.setUser,t=e.logOutUrl,i=e.user,c=Object(h.g)();function n(){return(n=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t),{method:"DELETE"}).then((function(e){e.ok&&(s(null),c("/"))}));case 2:console.log("Empty user check",i);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)(l.b,{className:"header_link",to:"/accountmanagement",children:"Manage Account"}),Object(m.jsx)("button",{className:"header_link",id:"log_out_button",onClick:function(){return n.apply(this,arguments)},children:"Sign Out"})]})};var g=function(e){var s=e.memberUrl,t=e.metricsUrl,c=Object(i.useState)({metrics:[]}),n=Object(a.a)(c,2),r=n[0],l=n[1],h=Object(i.useState)(!1),o=Object(a.a)(h,2),d=o[0],j=o[1];function u(e){fetch("".concat(t).concat(e.target.value),{method:"DELETE"}),l({metrics:r.metrics.filter((function(s){return s.id!==e.target.value}))}),j(!0)}Object(i.useEffect)((function(){fetch("".concat(s)).then((function(e){return e.json()})).then((function(e){l(e)}))}),[d]);var b=r.metrics.map((function(e){var s=e.created_at.split("T")[0];return e.neck_size||e.hips_size||e.bicep_size||e.chest_size||e.calf_size||e.thigh_size||e.waist_size||e.weight_lbs||e.forearm_size||e.height_feet?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"user_metric_box",id:r.metrics.id,children:[Object(m.jsxs)("ul",{className:"metric_ul",children:[e.neck_size?Object(m.jsxs)("li",{className:"neck",id:"neck".concat(e.id),children:[Object(m.jsx)("strong",{children:"Neck circumference:"})," ",e.neck_size,"in"]},"neck ".concat(r.metrics.id)):null,e.chest_size?Object(m.jsxs)("li",{className:"chest",id:"chest".concat(e.id),children:[Object(m.jsx)("strong",{children:"Chest circumference:"})," ",e.chest_size,"in"]},"chest ".concat(r.metrics.id)):null,e.waist_size?Object(m.jsxs)("li",{className:"waist",id:e.id,children:[Object(m.jsx)("strong",{children:"Waist circumference:"})," ",e.waist_size,"in"]},"waist".concat(r.metrics.id)):null,e.hip_size?Object(m.jsxs)("li",{className:"hip",id:e.id,children:[Object(m.jsx)("strong",{children:"Hip circumference:"})," ",e.hip_size,"in"]},"hip".concat(r.metrics.id)):null,e.thigh_size?Object(m.jsxs)("li",{className:"thigh",id:e.id,children:[Object(m.jsx)("strong",{children:"Thigh circumference:"})," ",e.thigh_size,"in"]},"thigh".concat(r.metrics.id)):null,e.calf_size?Object(m.jsxs)("li",{className:"calf",id:e.id,children:[Object(m.jsx)("strong",{children:"Calf circumference:"})," ",e.calf_size,"in"]},"calf".concat(r.metrics.id)):null,e.bicep_size?Object(m.jsxs)("li",{className:"bicep",id:e.id,children:[Object(m.jsx)("strong",{children:"Bicep circumference:"})," ",e.bicep_size,"in"]},"bicep".concat(r.metrics.id)):null,e.forearm_size?Object(m.jsxs)("li",{className:"forearm",id:e.id,children:[Object(m.jsx)("strong",{children:"Forearm circumference:"})," ",e.forearm_size,"in"]},"forearm".concat(r.metrics.id)):null,e.height_feet?Object(m.jsxs)("li",{className:"height",id:e.id,children:[Object(m.jsx)("strong",{children:"Height:"})," ",e.height_feet,"'"," ",e.height_inches,'"']},"height".concat(r.metrics.id)):null,e.weight_lbs?Object(m.jsxs)("li",{className:"weight",id:e.id,children:[Object(m.jsx)("strong",{children:"Weight:"})," ",e.weight_lbs,"lbs"]},"weight".concat(r.metrics.id)):null,Object(m.jsxs)("li",{className:"created",id:e.id,children:[Object(m.jsx)("strong",{children:"Created:"}),s]},"created".concat(r.metrics.id))]},r.metrics.id),Object(m.jsx)("button",{className:"remove_metric",id:e.id,value:e.id,onClick:u,children:"\u274c"})]})}):null}));return Object(m.jsxs)("div",{className:"user_metrics",children:[Object(m.jsxs)("div",{id:"member_name",children:["Member:",r.first_name," ",r.last_name]}),d?Object(m.jsxs)("div",{className:"removed_metric_box",children:["Metric Removed! \xa0",Object(m.jsxs)("button",{className:"remove_metric",onClick:function(){return j(!1)},children:["OK"," "]})]}):b]})};var x=function(e){var s=e.user,t=e.userUrl,c=Object(i.useState)(!1),n=Object(a.a)(c,2),r=n[0],l=n[1],j=Object(h.g)(),u=Object(i.useState)({user:s.id,password:""}),b=Object(a.a)(u,2),_=b[0],p=b[1];function f(e){e.preventDefault(),fetch("".concat(t).concat(s.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:s.id,password:_.password})}).then((function(e){e.ok?j("/memberspage"):p({password:""})}))}return Object(m.jsxs)("div",{id:"manage_account_box",children:[Object(m.jsxs)("div",{children:["Welcome:"," ",Object(m.jsxs)("strong",{children:[s.first_name," ",s.last_name]})]}),r?Object(m.jsxs)("form",{autocomplete:"off",onSubmit:f,children:[Object(m.jsx)("input",{required:!0,value:_.password,type:"password",className:"login_input_fields",id:"password_field",name:"password",placeholder:"New Password",onChange:function(e){var s=e.target.name;p(Object(d.a)(Object(d.a)({},_),{},Object(o.a)({},s,e.target.value)))}}),Object(m.jsx)("button",{id:"change_password_button",onclick:f,children:"Change"})]}):Object(m.jsxs)("span",{children:[Object(m.jsx)("h3",{children:"Change password?"}),Object(m.jsx)("button",{id:"change_password_button",onClick:function(){l(!0)},children:"Yes!"})]})]})},z="/api/login",v="/api/metrics",N="/api/me";var w=function(){var e=Object(i.useState)({}),s=Object(a.a)(e,2),t=s[0],c=s[1];return Object(i.useEffect)((function(){fetch("".concat(N)).then((function(e){e.ok&&e.json().then((function(e){return c(e)}))}))}),[]),console.log("app.js user",t),Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(l.a,{children:Object(m.jsxs)(h.d,{children:[Object(m.jsx)(h.b,{exact:!0,path:"/",element:t&&t.id?Object(m.jsx)(u,{user:t,metricsUrl:v}):Object(m.jsx)(j,{loginUrl:z,setUser:c,user:t})}),Object(m.jsx)(h.b,{exact:!0,path:"/signup",element:Object(m.jsx)(b,{signUpUrl:"/api/signup",user:t,onLogin:c,metricsUrl:v})}),Object(m.jsx)(h.b,{exact:!0,path:"/measurements",element:t&&t.id?Object(m.jsx)(u,{metricsUrl:v,user:t}):Object(m.jsx)(j,{loginUrl:z,setUser:c,user:t})}),Object(m.jsx)(h.b,{exact:!0,path:"/memberspage",element:t&&t.id?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(O,{setUser:c,user:t,logOutUrl:"/api/logout"}),Object(m.jsx)(g,{memberUrl:N,metricsUrl:v})]}):Object(m.jsx)(j,{loginUrl:z,setUser:c,user:t})}),Object(m.jsx)(h.b,{exact:!0,path:"/accountmanagement",element:t&&t.id?Object(m.jsx)(x,{memberUrl:N,userUrl:"/api/users/",user:t,setUser:c}):Object(m.jsx)(j,{loginUrl:z,setUser:c,user:t})})]})})})};r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(w,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.aa7b8e57.chunk.js.map